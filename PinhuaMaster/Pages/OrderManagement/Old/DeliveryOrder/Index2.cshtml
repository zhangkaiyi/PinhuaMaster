@page
@model PinhuaMaster.Pages.OrderManagement.Old.DeliveryOrder.Index2Model
@{
    ViewData["Title"] = "Index2";
    Layout = "~/Pages/_Layout.cshtml";

}

<div class="row">
    <div class="col-xs-12">
        <div class="box box-solid">
            <div class="box-header with-border">
                <div class="box-title">送货单网页填报</div>
            </div>
            <div class="box-body">
                <div id="tableContainer" class="hidden">
                    <div class="btn-group" role="group" aria-label="..." id="toolbar">
                        <a asp-page="Create" class="btn btn-primary">新建</a>
                    </div>
                    <table data-classes="table table-hover"
                           data-toggle="table"
                           data-toolbar="#toolbar"
                           data-show-columns="true"
                           data-search="true"
                           data-striped="true"
                           data-pagination="true"
                           data-page-list="[10, 20, 50, 100, 200]"
                           data-url="Index2?Handler=AjaxDeliveryOrders" style="white-space:nowrap">
                        <thead>
                            <tr>
                                <th data-width="20" data-formatter="browseRecord"></th>
                                <th data-visible="false" data-field="Type">类型</th>
                                <th class="hidden-xs" data-field="TypeDescription">类型</th>
                                <th data-field="DeliveryId" data-formatter="formatterDeliveryId">单号</th>
                                <th data-visible="false" data-field="CustomerId">客户编号</th>
                                <th data-field="CustomerName">客户名称</th>
                                <th data-field="DeliveryDate">送货日期</th>
                                <th data-field="Amount">金额</th>
                                <th class="hidden-xs" data-field="DeliveryAddress">送货地址</th>
                                <th class="hidden-xs" data-field="Contact">联系人</th>
                                <th class="hidden-xs" data-field="ContactNumber">联系电话</th>
                                <th class="hidden-xs" data-field="Remarks">备注</th>
                                <th class="hidden-xs" data-field="CreatedBy">制单人</th>
                                <th class="hidden-xs" data-field="CreatedDate">制单日期</th>
                                <th data-width="20" data-formatter="deleteRecord"></th>
                            </tr>
                        </thead>

                    </table>
                </div>
            </div>
        </div>

    </div>
</div>

@section Scripts{
<script>
        $(function () {
            $('#tableContainer').removeClass('hidden')
        })

        function browseRecord (value, row) {
            return '<a href="@(Url.Page("Print2"))/' + row.DeliveryId + '">打印</a> <a href="@(Url.Page("Edit2"))/' + row.DeliveryId + '">编辑</a>'
        }
        function deleteRecord (value, row) {
            return '<a href="@(Url.Page("Delete2"))/' + row.DeliveryId + '"><i class="fa fa-minus"></i></a>'
        }
        function formatterDeliveryId(value, row) {
            return '<a href="@(Url.Page("Details2"))/' + row.DeliveryId + '">' + value + '</a>'
        }
</script>
}

@section Styles{
    <style>
        .fixed-table-toolbar .bs-bars,
        .fixed-table-toolbar .search,
        .fixed-table-toolbar .columns {
            position: relative;
            margin-top: 10px;
            margin-bottom: 10px;
            line-height: 30px;
        }
    </style>
}